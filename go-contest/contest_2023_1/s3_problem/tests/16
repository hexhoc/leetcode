create table users (                                                                      
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table contests (                                                                            
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table problems (                                                                            
  id bigint primary key,                                                                           
  contest_id bigint,                                                                               
  code varchar not null,                                                                           
  constraint fk_problems_contest_id foreign key (contest_id) references contests (id)              
);                                                                                                 
                                                                                                   
create unique index on problems (contest_id, code);                                                
                                                                                                   
create table submissions (                                                                         
  id bigint primary key,                                                                           
  user_id bigint,                                                                                  
  problem_id bigint,                                                                               
  success boolean not null,                                                                        
  submitted_at timestamp not null,                                                                 
  constraint fk_submissions_user_id foreign key (user_id) references users (id),                   
  constraint fk_submissions_problem_id foreign key (problem_id) references problems (id)           
);

insert into users values
(3, 'baa'),
(10, 'ba'),
(14, 'a'),
(6, 'bABB'),
(15, 'AbB'),
(7, 'BB'),
(12, 'AB'),
(19, 'aAa'),
(2, 'b'),
(18, 'bA');

insert into contests values
(1, 'b');

insert into problems values
(4, 1, 'A'),
(7, 1, 'B'),
(1, 1, 'C'),
(8, 1, 'D'),
(10, 1, 'E');

insert into submissions values
(101, 3, 7, true, '2023-01-05 11:00:03'),
(119, 3, 8, false, '2023-01-05 11:00:01'),
(74, 3, 8, false, '2023-01-05 11:00:33'),
(158, 3, 10, false, '2023-01-05 11:00:25'),
(7, 6, 1, false, '2023-01-05 11:00:39'),
(150, 2, 1, true, '2023-01-05 11:00:58'),
(163, 6, 8, true, '2023-01-05 11:00:37'),
(154, 3, 8, false, '2023-01-05 11:00:07'),
(105, 2, 7, true, '2023-01-05 11:00:20'),
(168, 6, 7, true, '2023-01-05 11:00:37'),
(21, 6, 7, false, '2023-01-05 11:00:21'),
(29, 3, 10, false, '2023-01-05 11:00:26'),
(4, 6, 10, false, '2023-01-05 11:00:30'),
(48, 6, 1, true, '2023-01-05 11:00:12'),
(187, 3, 8, true, '2023-01-05 11:00:14'),
(69, 19, 1, false, '2023-01-05 11:00:40'),
(198, 6, 1, false, '2023-01-05 11:00:08'),
(189, 15, 1, false, '2023-01-05 11:00:54'),
(66, 3, 10, false, '2023-01-05 11:00:42'),
(49, 3, 7, true, '2023-01-05 11:00:43'),
(67, 15, 1, false, '2023-01-05 11:00:03'),
(151, 14, 1, false, '2023-01-05 11:00:38'),
(184, 15, 1, false, '2023-01-05 11:00:55'),
(82, 7, 10, false, '2023-01-05 11:00:54'),
(35, 14, 8, false, '2023-01-05 11:00:32'),
(25, 19, 4, false, '2023-01-05 11:00:41'),
(40, 2, 10, true, '2023-01-05 11:00:05'),
(42, 2, 1, true, '2023-01-05 11:00:38'),
(164, 15, 7, true, '2023-01-05 11:00:05'),
(130, 6, 1, false, '2023-01-05 11:00:43'),
(68, 6, 8, false, '2023-01-05 11:00:05'),
(8, 7, 7, false, '2023-01-05 11:00:21'),
(75, 19, 4, false, '2023-01-05 11:00:28'),
(78, 6, 1, false, '2023-01-05 11:00:14'),
(142, 3, 7, true, '2023-01-05 11:00:23'),
(191, 14, 8, false, '2023-01-05 11:00:23'),
(177, 2, 1, true, '2023-01-05 11:00:08'),
(109, 2, 7, true, '2023-01-05 11:00:27'),
(27, 15, 7, true, '2023-01-05 11:00:07'),
(152, 14, 7, true, '2023-01-05 11:00:02'),
(129, 2, 1, false, '2023-01-05 11:00:49'),
(200, 6, 8, false, '2023-01-05 11:00:08'),
(106, 7, 10, true, '2023-01-05 11:00:37'),
(10, 3, 10, true, '2023-01-05 11:00:59'),
(71, 6, 7, false, '2023-01-05 11:00:32'),
(56, 2, 1, true, '2023-01-05 11:00:09'),
(93, 2, 7, true, '2023-01-05 11:00:59'),
(50, 6, 7, true, '2023-01-05 11:00:39'),
(156, 2, 1, false, '2023-01-05 11:00:12'),
(88, 6, 7, true, '2023-01-05 11:00:58'),
(52, 15, 8, true, '2023-01-05 11:00:15'),
(80, 2, 1, true, '2023-01-05 11:00:30'),
(124, 2, 1, true, '2023-01-05 11:00:04'),
(167, 6, 7, true, '2023-01-05 11:00:35'),
(28, 3, 1, false, '2023-01-05 11:00:25'),
(188, 14, 7, true, '2023-01-05 11:00:12'),
(64, 6, 1, true, '2023-01-05 11:00:54'),
(85, 3, 1, false, '2023-01-05 11:00:10'),
(161, 3, 4, true, '2023-01-05 11:00:14'),
(102, 6, 1, false, '2023-01-05 11:00:51'),
(2, 2, 7, true, '2023-01-05 11:00:53'),
(135, 14, 1, false, '2023-01-05 11:00:12'),
(60, 2, 8, false, '2023-01-05 11:00:06'),
(121, 2, 1, false, '2023-01-05 11:00:23'),
(11, 7, 7, false, '2023-01-05 11:00:46'),
(32, 3, 1, false, '2023-01-05 11:00:14'),
(116, 2, 1, true, '2023-01-05 11:00:15'),
(186, 2, 7, true, '2023-01-05 11:00:58'),
(178, 19, 4, false, '2023-01-05 11:00:52'),
(20, 6, 1, false, '2023-01-05 11:00:25'),
(125, 3, 7, true, '2023-01-05 11:00:05'),
(176, 3, 8, true, '2023-01-05 11:00:50'),
(114, 14, 1, false, '2023-01-05 11:00:33'),
(55, 15, 1, true, '2023-01-05 11:00:14'),
(192, 18, 8, true, '2023-01-05 11:00:38'),
(157, 3, 4, false, '2023-01-05 11:00:09'),
(132, 2, 7, true, '2023-01-05 11:00:29'),
(31, 3, 10, false, '2023-01-05 11:00:05'),
(137, 3, 7, false, '2023-01-05 11:00:49'),
(180, 3, 8, true, '2023-01-05 11:00:28'),
(15, 6, 1, false, '2023-01-05 11:00:02'),
(54, 2, 1, false, '2023-01-05 11:00:59'),
(201, 14, 7, false, '2023-01-05 11:00:10'),
(39, 14, 8, true, '2023-01-05 11:00:02'),
(26, 15, 8, false, '2023-01-05 11:00:20'),
(194, 14, 8, true, '2023-01-05 11:00:32'),
(37, 6, 7, true, '2023-01-05 11:00:05'),
(81, 18, 8, false, '2023-01-05 11:00:48'),
(100, 6, 7, true, '2023-01-05 11:00:06'),
(173, 2, 4, false, '2023-01-05 11:00:53'),
(87, 2, 10, true, '2023-01-05 11:00:50'),
(113, 14, 1, false, '2023-01-05 11:00:41'),
(98, 7, 7, true, '2023-01-05 11:00:10'),
(14, 19, 4, true, '2023-01-05 11:00:02'),
(110, 6, 4, true, '2023-01-05 11:00:09'),
(23, 6, 8, true, '2023-01-05 11:00:27'),
(169, 2, 8, true, '2023-01-05 11:00:48'),
(76, 7, 4, false, '2023-01-05 11:00:54'),
(79, 3, 7, false, '2023-01-05 11:00:35'),
(146, 6, 7, true, '2023-01-05 11:00:29');

