create table users (                                                                      
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table contests (                                                                            
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table problems (                                                                            
  id bigint primary key,                                                                           
  contest_id bigint,                                                                               
  code varchar not null,                                                                           
  constraint fk_problems_contest_id foreign key (contest_id) references contests (id)              
);                                                                                                 
                                                                                                   
create unique index on problems (contest_id, code);                                                
                                                                                                   
create table submissions (                                                                         
  id bigint primary key,                                                                           
  user_id bigint,                                                                                  
  problem_id bigint,                                                                               
  success boolean not null,                                                                        
  submitted_at timestamp not null,                                                                 
  constraint fk_submissions_user_id foreign key (user_id) references users (id),                   
  constraint fk_submissions_problem_id foreign key (problem_id) references problems (id)           
);

insert into users values
(5, 'a'),
(6, 'b'),
(2, 'B'),
(8, 'B'),
(11, 'Ab');

insert into contests values
(3, 'Ab'),
(2, 'aA');

insert into problems values
(4, 3, 'A'),
(8, 2, 'A'),
(7, 2, 'B'),
(10, 3, 'B'),
(5, 3, 'C');

insert into submissions values
(179, 8, 8, false, '2023-01-05 11:00:14'),
(132, 8, 8, false, '2023-01-05 11:00:05'),
(175, 11, 7, false, '2023-01-05 11:00:11'),
(117, 11, 8, true, '2023-01-05 11:00:51'),
(180, 8, 4, false, '2023-01-05 11:00:43'),
(62, 11, 8, true, '2023-01-05 11:00:50'),
(176, 8, 7, false, '2023-01-05 11:00:44'),
(170, 8, 10, false, '2023-01-05 11:00:48'),
(201, 11, 5, false, '2023-01-05 11:00:58'),
(161, 11, 7, false, '2023-01-05 11:00:27'),
(58, 11, 5, false, '2023-01-05 11:00:29'),
(116, 2, 7, false, '2023-01-05 11:00:32'),
(87, 8, 4, false, '2023-01-05 11:00:57'),
(159, 5, 4, false, '2023-01-05 11:00:06'),
(151, 8, 5, false, '2023-01-05 11:00:39'),
(74, 11, 8, false, '2023-01-05 11:00:38'),
(11, 8, 4, true, '2023-01-05 11:00:40'),
(148, 8, 7, false, '2023-01-05 11:00:44'),
(127, 8, 7, false, '2023-01-05 11:00:36'),
(122, 8, 7, false, '2023-01-05 11:00:51'),
(181, 8, 7, false, '2023-01-05 11:00:23'),
(120, 8, 7, false, '2023-01-05 11:00:59'),
(104, 8, 5, false, '2023-01-05 11:00:10'),
(200, 2, 7, false, '2023-01-05 11:00:58'),
(144, 2, 7, false, '2023-01-05 11:00:26'),
(26, 11, 8, false, '2023-01-05 11:00:24'),
(65, 8, 8, false, '2023-01-05 11:00:37'),
(3, 8, 4, false, '2023-01-05 11:00:21'),
(80, 8, 5, false, '2023-01-05 11:00:13'),
(44, 2, 4, false, '2023-01-05 11:00:47'),
(185, 11, 8, false, '2023-01-05 11:00:03'),
(51, 8, 8, false, '2023-01-05 11:00:02'),
(41, 11, 7, false, '2023-01-05 11:00:38'),
(2, 11, 7, true, '2023-01-05 11:00:36'),
(106, 2, 7, false, '2023-01-05 11:00:34'),
(25, 8, 8, false, '2023-01-05 11:00:45'),
(7, 8, 7, false, '2023-01-05 11:00:20'),
(76, 8, 5, false, '2023-01-05 11:00:49'),
(42, 8, 10, false, '2023-01-05 11:00:31'),
(66, 8, 4, false, '2023-01-05 11:00:51'),
(183, 8, 5, false, '2023-01-05 11:00:36'),
(33, 11, 7, false, '2023-01-05 11:00:31'),
(105, 2, 8, false, '2023-01-05 11:00:26'),
(37, 11, 7, false, '2023-01-05 11:00:46'),
(189, 8, 4, false, '2023-01-05 11:00:56'),
(139, 11, 7, false, '2023-01-05 11:00:04'),
(85, 8, 7, false, '2023-01-05 11:00:07'),
(184, 8, 7, false, '2023-01-05 11:00:01'),
(110, 8, 7, false, '2023-01-05 11:00:05'),
(13, 11, 7, false, '2023-01-05 11:00:59'),
(36, 8, 10, true, '2023-01-05 11:00:11'),
(30, 8, 7, false, '2023-01-05 11:00:20'),
(121, 2, 4, false, '2023-01-05 11:00:46'),
(81, 5, 7, false, '2023-01-05 11:00:11'),
(193, 8, 4, false, '2023-01-05 11:00:02'),
(22, 8, 7, false, '2023-01-05 11:00:42'),
(141, 8, 7, false, '2023-01-05 11:00:44'),
(155, 8, 10, false, '2023-01-05 11:00:24'),
(43, 11, 7, false, '2023-01-05 11:00:05'),
(172, 11, 7, false, '2023-01-05 11:00:57'),
(47, 11, 7, false, '2023-01-05 11:00:13'),
(61, 11, 7, false, '2023-01-05 11:00:51'),
(20, 2, 5, false, '2023-01-05 11:00:34'),
(57, 11, 4, true, '2023-01-05 11:00:55'),
(9, 8, 8, false, '2023-01-05 11:00:26'),
(123, 11, 4, false, '2023-01-05 11:00:33'),
(34, 11, 4, false, '2023-01-05 11:00:56'),
(160, 8, 5, false, '2023-01-05 11:00:16'),
(102, 11, 7, false, '2023-01-05 11:00:42'),
(27, 8, 4, false, '2023-01-05 11:00:15'),
(15, 11, 5, false, '2023-01-05 11:00:03'),
(196, 8, 7, false, '2023-01-05 11:00:37'),
(50, 2, 8, false, '2023-01-05 11:00:41'),
(28, 2, 7, false, '2023-01-05 11:00:44'),
(166, 8, 4, false, '2023-01-05 11:00:53'),
(199, 11, 4, true, '2023-01-05 11:00:34'),
(49, 5, 8, false, '2023-01-05 11:00:40'),
(63, 11, 4, true, '2023-01-05 11:00:35'),
(78, 8, 7, false, '2023-01-05 11:00:35'),
(95, 11, 8, false, '2023-01-05 11:00:18'),
(126, 8, 7, false, '2023-01-05 11:00:03'),
(169, 2, 5, false, '2023-01-05 11:00:47'),
(192, 2, 8, false, '2023-01-05 11:00:55'),
(152, 11, 4, false, '2023-01-05 11:00:57'),
(182, 11, 4, false, '2023-01-05 11:00:03'),
(157, 11, 7, false, '2023-01-05 11:00:57'),
(69, 8, 7, false, '2023-01-05 11:00:13'),
(146, 8, 7, false, '2023-01-05 11:00:23'),
(129, 8, 10, false, '2023-01-05 11:00:37'),
(165, 8, 7, false, '2023-01-05 11:00:49'),
(103, 11, 7, false, '2023-01-05 11:00:54'),
(93, 11, 7, false, '2023-01-05 11:00:40'),
(118, 8, 7, false, '2023-01-05 11:00:13'),
(23, 11, 4, true, '2023-01-05 11:00:13'),
(40, 8, 7, false, '2023-01-05 11:00:14'),
(100, 8, 4, false, '2023-01-05 11:00:42'),
(177, 8, 4, true, '2023-01-05 11:00:59'),
(107, 11, 5, false, '2023-01-05 11:00:11'),
(136, 8, 8, false, '2023-01-05 11:00:52'),
(163, 8, 8, true, '2023-01-05 11:00:28');

