create table users (                                                                      
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table contests (                                                                            
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table problems (                                                                            
  id bigint primary key,                                                                           
  contest_id bigint,                                                                               
  code varchar not null,                                                                           
  constraint fk_problems_contest_id foreign key (contest_id) references contests (id)              
);                                                                                                 
                                                                                                   
create unique index on problems (contest_id, code);                                                
                                                                                                   
create table submissions (                                                                         
  id bigint primary key,                                                                           
  user_id bigint,                                                                                  
  problem_id bigint,                                                                               
  success boolean not null,                                                                        
  submitted_at timestamp not null,                                                                 
  constraint fk_submissions_user_id foreign key (user_id) references users (id),                   
  constraint fk_submissions_problem_id foreign key (problem_id) references problems (id)           
);

insert into users values
(9, 'b'),
(5, 'BAAA'),
(15, 'a'),
(3, 'BAB'),
(2, 'BABbb'),
(11, 'abB'),
(14, 'bab'),
(4, 'aB');

insert into contests values
(1, 'B'),
(7, 'A'),
(6, 'B');

insert into problems values
(1, 7, 'A'),
(4, 6, 'A'),
(3, 7, 'B'),
(2, 7, 'C'),
(6, 7, 'D'),
(11, 7, 'E');

insert into submissions values
(91, 4, 4, false, '2023-01-05 11:00:25'),
(69, 4, 3, true, '2023-01-05 11:00:40'),
(123, 9, 1, false, '2023-01-05 11:00:41'),
(33, 9, 4, false, '2023-01-05 11:00:35'),
(158, 3, 4, false, '2023-01-05 11:00:54'),
(36, 5, 2, false, '2023-01-05 11:00:47'),
(60, 3, 4, false, '2023-01-05 11:00:24'),
(164, 4, 3, true, '2023-01-05 11:00:55'),
(176, 4, 4, false, '2023-01-05 11:00:43'),
(144, 15, 1, false, '2023-01-05 11:00:08'),
(172, 4, 6, true, '2023-01-05 11:00:49'),
(95, 15, 4, false, '2023-01-05 11:00:24'),
(39, 9, 2, false, '2023-01-05 11:00:57'),
(137, 15, 4, false, '2023-01-05 11:00:00'),
(169, 14, 4, false, '2023-01-05 11:00:00'),
(63, 14, 4, false, '2023-01-05 11:00:56'),
(11, 4, 3, false, '2023-01-05 11:00:52'),
(56, 11, 1, false, '2023-01-05 11:00:26'),
(184, 14, 4, false, '2023-01-05 11:00:38'),
(61, 14, 1, false, '2023-01-05 11:00:34'),
(185, 15, 6, false, '2023-01-05 11:00:39'),
(68, 3, 4, true, '2023-01-05 11:00:01'),
(179, 9, 3, false, '2023-01-05 11:00:32'),
(113, 9, 1, false, '2023-01-05 11:00:56'),
(167, 3, 6, false, '2023-01-05 11:00:40'),
(48, 4, 1, false, '2023-01-05 11:00:54'),
(195, 14, 3, false, '2023-01-05 11:00:33'),
(120, 15, 4, false, '2023-01-05 11:00:32'),
(84, 14, 1, false, '2023-01-05 11:00:14'),
(27, 4, 1, false, '2023-01-05 11:00:37'),
(186, 9, 6, true, '2023-01-05 11:00:50'),
(21, 4, 4, false, '2023-01-05 11:00:51'),
(86, 14, 3, false, '2023-01-05 11:00:52'),
(143, 4, 1, false, '2023-01-05 11:00:54'),
(20, 5, 1, false, '2023-01-05 11:00:25'),
(37, 15, 1, false, '2023-01-05 11:00:22'),
(46, 4, 1, false, '2023-01-05 11:00:53'),
(42, 9, 1, false, '2023-01-05 11:00:50'),
(41, 14, 4, false, '2023-01-05 11:00:09'),
(32, 9, 3, false, '2023-01-05 11:00:34'),
(67, 11, 3, false, '2023-01-05 11:00:51'),
(3, 9, 1, false, '2023-01-05 11:00:44'),
(9, 5, 3, false, '2023-01-05 11:00:46'),
(154, 9, 4, false, '2023-01-05 11:00:06'),
(22, 5, 1, false, '2023-01-05 11:00:26'),
(49, 11, 3, false, '2023-01-05 11:00:12'),
(150, 5, 4, false, '2023-01-05 11:00:38'),
(181, 14, 1, false, '2023-01-05 11:00:08'),
(124, 14, 1, false, '2023-01-05 11:00:01'),
(125, 9, 1, false, '2023-01-05 11:00:32'),
(96, 15, 4, true, '2023-01-05 11:00:30'),
(147, 15, 4, false, '2023-01-05 11:00:44'),
(50, 2, 4, false, '2023-01-05 11:00:17'),
(15, 5, 6, false, '2023-01-05 11:00:17'),
(43, 4, 4, false, '2023-01-05 11:00:38'),
(131, 15, 1, false, '2023-01-05 11:00:26'),
(8, 5, 3, false, '2023-01-05 11:00:56'),
(140, 5, 3, false, '2023-01-05 11:00:06'),
(54, 15, 2, false, '2023-01-05 11:00:54'),
(161, 9, 3, false, '2023-01-05 11:00:17'),
(118, 3, 1, false, '2023-01-05 11:00:31'),
(26, 9, 1, false, '2023-01-05 11:00:01'),
(58, 9, 4, false, '2023-01-05 11:00:57'),
(145, 3, 4, false, '2023-01-05 11:00:06'),
(79, 5, 6, false, '2023-01-05 11:00:12'),
(138, 5, 3, false, '2023-01-05 11:00:53'),
(159, 5, 1, false, '2023-01-05 11:00:43'),
(17, 9, 1, false, '2023-01-05 11:00:34'),
(28, 15, 6, false, '2023-01-05 11:00:33'),
(45, 11, 3, false, '2023-01-05 11:00:50'),
(139, 15, 4, false, '2023-01-05 11:00:43'),
(82, 5, 1, false, '2023-01-05 11:00:58'),
(193, 15, 1, false, '2023-01-05 11:00:15'),
(99, 5, 1, false, '2023-01-05 11:00:26'),
(78, 9, 3, false, '2023-01-05 11:00:27'),
(81, 5, 1, false, '2023-01-05 11:00:07'),
(105, 4, 3, false, '2023-01-05 11:00:47'),
(142, 4, 3, false, '2023-01-05 11:00:25'),
(129, 9, 4, false, '2023-01-05 11:00:20'),
(30, 5, 3, false, '2023-01-05 11:00:24'),
(198, 15, 1, false, '2023-01-05 11:00:16'),
(70, 11, 6, false, '2023-01-05 11:00:06'),
(128, 4, 4, false, '2023-01-05 11:00:10'),
(194, 4, 4, false, '2023-01-05 11:00:41'),
(156, 4, 1, false, '2023-01-05 11:00:22'),
(157, 14, 3, false, '2023-01-05 11:00:27'),
(155, 9, 1, false, '2023-01-05 11:00:54'),
(111, 4, 6, true, '2023-01-05 11:00:53'),
(75, 5, 6, false, '2023-01-05 11:00:06'),
(117, 15, 1, false, '2023-01-05 11:00:16'),
(73, 15, 6, true, '2023-01-05 11:00:14'),
(34, 9, 4, false, '2023-01-05 11:00:16'),
(163, 5, 6, false, '2023-01-05 11:00:31'),
(80, 14, 1, false, '2023-01-05 11:00:58'),
(110, 15, 1, false, '2023-01-05 11:00:53'),
(100, 9, 1, false, '2023-01-05 11:00:49'),
(130, 15, 4, true, '2023-01-05 11:00:57'),
(65, 15, 4, false, '2023-01-05 11:00:47'),
(87, 15, 1, false, '2023-01-05 11:00:07'),
(114, 14, 4, false, '2023-01-05 11:00:33');

