create table users (                                                                      
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table contests (                                                                            
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table problems (                                                                            
  id bigint primary key,                                                                           
  contest_id bigint,                                                                               
  code varchar not null,                                                                           
  constraint fk_problems_contest_id foreign key (contest_id) references contests (id)              
);                                                                                                 
                                                                                                   
create unique index on problems (contest_id, code);                                                
                                                                                                   
create table submissions (                                                                         
  id bigint primary key,                                                                           
  user_id bigint,                                                                                  
  problem_id bigint,                                                                               
  success boolean not null,                                                                        
  submitted_at timestamp not null,                                                                 
  constraint fk_submissions_user_id foreign key (user_id) references users (id),                   
  constraint fk_submissions_problem_id foreign key (problem_id) references problems (id)           
);

insert into users values
(3, 'BBA'),
(12, 'B'),
(15, 'A'),
(8, 'A'),
(17, 'aaAb'),
(1, 'AaBB'),
(9, 'abB'),
(4, 'aAaa');

insert into contests values
(1, 'B');

insert into problems values
(3, 1, 'A'),
(11, 1, 'B'),
(7, 1, 'C'),
(6, 1, 'D'),
(5, 1, 'E'),
(4, 1, 'F');

insert into submissions values
(156, 8, 7, false, '2023-01-05 11:00:14'),
(144, 3, 6, false, '2023-01-05 11:00:29'),
(83, 3, 5, false, '2023-01-05 11:00:54'),
(4, 1, 3, false, '2023-01-05 11:00:03'),
(66, 17, 3, false, '2023-01-05 11:00:11'),
(82, 1, 6, false, '2023-01-05 11:00:56'),
(85, 3, 3, false, '2023-01-05 11:00:22'),
(189, 9, 3, false, '2023-01-05 11:00:47'),
(7, 9, 3, false, '2023-01-05 11:00:59'),
(114, 15, 3, false, '2023-01-05 11:00:12'),
(17, 12, 11, true, '2023-01-05 11:00:02'),
(148, 17, 11, true, '2023-01-05 11:00:17'),
(103, 17, 5, true, '2023-01-05 11:00:13'),
(172, 4, 4, false, '2023-01-05 11:00:55'),
(54, 9, 4, false, '2023-01-05 11:00:38'),
(132, 9, 5, false, '2023-01-05 11:00:58'),
(16, 3, 3, false, '2023-01-05 11:00:49'),
(140, 3, 6, false, '2023-01-05 11:00:22'),
(108, 4, 3, true, '2023-01-05 11:00:54'),
(48, 17, 5, true, '2023-01-05 11:00:22'),
(117, 1, 11, false, '2023-01-05 11:00:57'),
(86, 1, 11, false, '2023-01-05 11:00:13'),
(22, 1, 11, false, '2023-01-05 11:00:53'),
(19, 9, 6, false, '2023-01-05 11:00:18'),
(23, 4, 3, true, '2023-01-05 11:00:55'),
(36, 9, 7, false, '2023-01-05 11:00:04'),
(110, 4, 7, false, '2023-01-05 11:00:22'),
(122, 4, 3, false, '2023-01-05 11:00:33'),
(200, 9, 4, false, '2023-01-05 11:00:50'),
(175, 9, 6, true, '2023-01-05 11:00:26'),
(88, 3, 7, false, '2023-01-05 11:00:29'),
(167, 9, 5, true, '2023-01-05 11:00:08'),
(50, 17, 6, false, '2023-01-05 11:00:41'),
(70, 15, 11, false, '2023-01-05 11:00:24'),
(174, 9, 3, false, '2023-01-05 11:00:20'),
(55, 9, 7, false, '2023-01-05 11:00:56'),
(151, 3, 6, false, '2023-01-05 11:00:07'),
(9, 1, 7, true, '2023-01-05 11:00:52'),
(191, 12, 7, true, '2023-01-05 11:00:21'),
(33, 9, 3, false, '2023-01-05 11:00:34'),
(21, 9, 4, false, '2023-01-05 11:00:21'),
(59, 1, 3, false, '2023-01-05 11:00:48'),
(105, 1, 4, false, '2023-01-05 11:00:26'),
(179, 1, 6, true, '2023-01-05 11:00:54'),
(107, 12, 4, true, '2023-01-05 11:00:14'),
(38, 1, 7, false, '2023-01-05 11:00:14'),
(37, 9, 3, false, '2023-01-05 11:00:27'),
(154, 9, 5, true, '2023-01-05 11:00:37'),
(150, 15, 3, true, '2023-01-05 11:00:36'),
(157, 12, 4, true, '2023-01-05 11:00:21'),
(113, 1, 5, false, '2023-01-05 11:00:17'),
(199, 9, 7, false, '2023-01-05 11:00:21'),
(119, 1, 7, false, '2023-01-05 11:00:07'),
(61, 1, 3, true, '2023-01-05 11:00:41'),
(18, 3, 7, false, '2023-01-05 11:00:54'),
(6, 4, 4, false, '2023-01-05 11:00:55'),
(184, 17, 6, false, '2023-01-05 11:00:47'),
(173, 4, 3, false, '2023-01-05 11:00:03'),
(197, 9, 7, true, '2023-01-05 11:00:29'),
(104, 1, 5, false, '2023-01-05 11:00:06'),
(57, 17, 7, false, '2023-01-05 11:00:35'),
(162, 1, 7, false, '2023-01-05 11:00:07'),
(25, 9, 5, true, '2023-01-05 11:00:35'),
(128, 3, 6, false, '2023-01-05 11:00:37'),
(170, 1, 11, false, '2023-01-05 11:00:45'),
(127, 9, 5, false, '2023-01-05 11:00:06'),
(187, 12, 4, false, '2023-01-05 11:00:35'),
(58, 3, 11, false, '2023-01-05 11:00:43'),
(194, 1, 3, false, '2023-01-05 11:00:54'),
(164, 15, 3, false, '2023-01-05 11:00:44'),
(95, 4, 5, true, '2023-01-05 11:00:37'),
(3, 3, 4, false, '2023-01-05 11:00:59'),
(101, 1, 4, false, '2023-01-05 11:00:39'),
(65, 17, 3, false, '2023-01-05 11:00:41'),
(146, 4, 4, false, '2023-01-05 11:00:20'),
(136, 3, 7, false, '2023-01-05 11:00:49'),
(96, 9, 7, false, '2023-01-05 11:00:57'),
(71, 17, 11, false, '2023-01-05 11:00:41'),
(177, 15, 3, true, '2023-01-05 11:00:10'),
(121, 1, 5, false, '2023-01-05 11:00:52'),
(80, 1, 4, false, '2023-01-05 11:00:13'),
(130, 17, 6, false, '2023-01-05 11:00:31'),
(135, 1, 7, false, '2023-01-05 11:00:35'),
(60, 1, 6, false, '2023-01-05 11:00:06'),
(143, 9, 4, false, '2023-01-05 11:00:50'),
(51, 9, 6, false, '2023-01-05 11:00:39'),
(145, 15, 3, true, '2023-01-05 11:00:13'),
(89, 1, 11, false, '2023-01-05 11:00:08'),
(53, 17, 3, false, '2023-01-05 11:00:15'),
(181, 4, 7, true, '2023-01-05 11:00:00'),
(109, 1, 5, true, '2023-01-05 11:00:34'),
(139, 3, 6, false, '2023-01-05 11:00:18'),
(193, 3, 6, false, '2023-01-05 11:00:18'),
(182, 9, 5, false, '2023-01-05 11:00:49'),
(180, 4, 11, true, '2023-01-05 11:00:28'),
(166, 1, 7, false, '2023-01-05 11:00:58'),
(47, 17, 7, false, '2023-01-05 11:00:25'),
(159, 15, 11, false, '2023-01-05 11:00:39'),
(147, 3, 5, false, '2023-01-05 11:00:44'),
(98, 17, 7, false, '2023-01-05 11:00:59');

