create table users (                                                                      
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table contests (                                                                            
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table problems (                                                                            
  id bigint primary key,                                                                           
  contest_id bigint,                                                                               
  code varchar not null,                                                                           
  constraint fk_problems_contest_id foreign key (contest_id) references contests (id)              
);                                                                                                 
                                                                                                   
create unique index on problems (contest_id, code);                                                
                                                                                                   
create table submissions (                                                                         
  id bigint primary key,                                                                           
  user_id bigint,                                                                                  
  problem_id bigint,                                                                               
  success boolean not null,                                                                        
  submitted_at timestamp not null,                                                                 
  constraint fk_submissions_user_id foreign key (user_id) references users (id),                   
  constraint fk_submissions_problem_id foreign key (problem_id) references problems (id)           
);

insert into users values
(4, 'abB'),
(8, 'Bb'),
(2, 'BaA'),
(21, 'B'),
(10, 'A'),
(20, 'AA'),
(15, 'bBB'),
(1, 'Ab'),
(12, 'baaA'),
(5, 'AbaB');

insert into contests values
(3, 'B');

insert into problems values
(6, 3, 'A'),
(8, 3, 'B'),
(9, 3, 'C'),
(7, 3, 'D'),
(11, 3, 'E');

insert into submissions values
(31, 21, 8, false, '2023-01-05 11:00:09'),
(115, 2, 9, false, '2023-01-05 11:00:09'),
(54, 2, 11, true, '2023-01-05 11:00:55'),
(140, 12, 9, true, '2023-01-05 11:00:09'),
(175, 15, 9, false, '2023-01-05 11:00:09'),
(17, 2, 8, false, '2023-01-05 11:00:09'),
(128, 10, 8, false, '2023-01-05 11:00:23'),
(47, 1, 8, true, '2023-01-05 11:00:55'),
(26, 20, 9, false, '2023-01-05 11:00:09'),
(48, 5, 8, false, '2023-01-05 11:00:55'),
(110, 2, 11, false, '2023-01-05 11:00:23'),
(43, 10, 8, false, '2023-01-05 11:00:55'),
(169, 2, 11, false, '2023-01-05 11:00:55'),
(118, 2, 8, false, '2023-01-05 11:00:09'),
(182, 20, 8, false, '2023-01-05 11:00:55'),
(37, 21, 9, false, '2023-01-05 11:00:09'),
(180, 10, 8, false, '2023-01-05 11:00:23'),
(27, 15, 6, false, '2023-01-05 11:00:09'),
(63, 15, 11, false, '2023-01-05 11:00:09'),
(170, 10, 9, false, '2023-01-05 11:00:23'),
(122, 15, 9, false, '2023-01-05 11:00:55'),
(201, 2, 8, false, '2023-01-05 11:00:09'),
(138, 10, 9, false, '2023-01-05 11:00:23'),
(19, 2, 11, false, '2023-01-05 11:00:23'),
(79, 15, 8, false, '2023-01-05 11:00:23'),
(69, 12, 11, false, '2023-01-05 11:00:55'),
(100, 2, 9, false, '2023-01-05 11:00:55'),
(35, 15, 8, false, '2023-01-05 11:00:55'),
(82, 20, 8, false, '2023-01-05 11:00:09'),
(70, 2, 7, false, '2023-01-05 11:00:23'),
(125, 1, 8, false, '2023-01-05 11:00:23'),
(75, 2, 11, false, '2023-01-05 11:00:23'),
(134, 20, 9, false, '2023-01-05 11:00:09'),
(159, 20, 8, false, '2023-01-05 11:00:55'),
(183, 15, 8, false, '2023-01-05 11:00:55'),
(141, 10, 8, false, '2023-01-05 11:00:09'),
(168, 21, 11, true, '2023-01-05 11:00:23'),
(97, 20, 9, false, '2023-01-05 11:00:55'),
(3, 10, 8, false, '2023-01-05 11:00:23'),
(29, 15, 8, false, '2023-01-05 11:00:55'),
(74, 1, 9, false, '2023-01-05 11:00:23'),
(178, 2, 11, false, '2023-01-05 11:00:23'),
(62, 20, 8, false, '2023-01-05 11:00:09'),
(165, 5, 8, false, '2023-01-05 11:00:23'),
(91, 15, 8, false, '2023-01-05 11:00:09'),
(189, 12, 8, false, '2023-01-05 11:00:23'),
(116, 2, 8, false, '2023-01-05 11:00:23'),
(188, 15, 9, false, '2023-01-05 11:00:23'),
(98, 15, 8, false, '2023-01-05 11:00:23'),
(101, 15, 9, false, '2023-01-05 11:00:09'),
(103, 12, 8, false, '2023-01-05 11:00:09'),
(64, 2, 9, false, '2023-01-05 11:00:09'),
(87, 2, 8, false, '2023-01-05 11:00:55'),
(166, 2, 8, false, '2023-01-05 11:00:55'),
(142, 10, 8, false, '2023-01-05 11:00:09'),
(193, 10, 9, false, '2023-01-05 11:00:23'),
(49, 10, 8, false, '2023-01-05 11:00:23'),
(146, 10, 11, false, '2023-01-05 11:00:23'),
(186, 15, 8, false, '2023-01-05 11:00:55'),
(90, 10, 6, true, '2023-01-05 11:00:23'),
(6, 15, 8, false, '2023-01-05 11:00:23'),
(34, 15, 9, false, '2023-01-05 11:00:55'),
(28, 20, 8, false, '2023-01-05 11:00:55'),
(191, 10, 11, false, '2023-01-05 11:00:09'),
(173, 2, 8, false, '2023-01-05 11:00:09'),
(86, 2, 8, false, '2023-01-05 11:00:23'),
(46, 20, 11, false, '2023-01-05 11:00:23'),
(139, 1, 8, false, '2023-01-05 11:00:55'),
(192, 12, 8, false, '2023-01-05 11:00:55'),
(42, 2, 9, true, '2023-01-05 11:00:23'),
(89, 10, 9, false, '2023-01-05 11:00:09'),
(36, 10, 11, false, '2023-01-05 11:00:23'),
(190, 15, 8, false, '2023-01-05 11:00:23'),
(172, 15, 9, false, '2023-01-05 11:00:09'),
(158, 15, 8, false, '2023-01-05 11:00:55'),
(112, 2, 9, false, '2023-01-05 11:00:23'),
(85, 10, 11, false, '2023-01-05 11:00:23'),
(40, 2, 8, false, '2023-01-05 11:00:09'),
(24, 20, 8, false, '2023-01-05 11:00:23'),
(95, 15, 11, false, '2023-01-05 11:00:09'),
(123, 15, 8, false, '2023-01-05 11:00:09'),
(195, 1, 8, true, '2023-01-05 11:00:23'),
(151, 10, 8, false, '2023-01-05 11:00:09'),
(198, 12, 9, false, '2023-01-05 11:00:09'),
(132, 10, 6, true, '2023-01-05 11:00:09'),
(32, 2, 8, false, '2023-01-05 11:00:55'),
(10, 2, 8, false, '2023-01-05 11:00:55'),
(65, 10, 9, false, '2023-01-05 11:00:09'),
(176, 10, 8, false, '2023-01-05 11:00:55'),
(197, 2, 11, false, '2023-01-05 11:00:09'),
(150, 2, 11, false, '2023-01-05 11:00:23'),
(147, 20, 9, false, '2023-01-05 11:00:23'),
(126, 10, 8, false, '2023-01-05 11:00:55'),
(7, 21, 6, false, '2023-01-05 11:00:09'),
(157, 2, 8, false, '2023-01-05 11:00:09'),
(8, 10, 9, true, '2023-01-05 11:00:09'),
(127, 1, 8, false, '2023-01-05 11:00:23'),
(83, 10, 8, false, '2023-01-05 11:00:55'),
(149, 12, 6, true, '2023-01-05 11:00:09'),
(153, 12, 8, false, '2023-01-05 11:00:55');

