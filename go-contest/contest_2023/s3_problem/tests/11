create table users (                                                                      
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table contests (                                                                            
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table problems (                                                                            
  id bigint primary key,                                                                           
  contest_id bigint,                                                                               
  code varchar not null,                                                                           
  constraint fk_problems_contest_id foreign key (contest_id) references contests (id)              
);                                                                                                 
                                                                                                   
create unique index on problems (contest_id, code);                                                
                                                                                                   
create table submissions (                                                                         
  id bigint primary key,                                                                           
  user_id bigint,                                                                                  
  problem_id bigint,                                                                               
  success boolean not null,                                                                        
  submitted_at timestamp not null,                                                                 
  constraint fk_submissions_user_id foreign key (user_id) references users (id),                   
  constraint fk_submissions_problem_id foreign key (problem_id) references problems (id)           
);

insert into users values
(14, 'ba'),
(15, 'BA'),
(4, 'Bb'),
(8, 'AAA'),
(3, 'a'),
(7, 'aAab'),
(6, 'AAa');

insert into contests values
(1, 'A');

insert into problems values
(12, 1, 'A'),
(6, 1, 'B'),
(2, 1, 'C'),
(13, 1, 'D'),
(10, 1, 'E'),
(8, 1, 'F');

insert into submissions values
(175, 4, 13, false, '2023-01-05 11:00:07'),
(110, 4, 12, true, '2023-01-05 11:00:24'),
(126, 4, 6, true, '2023-01-05 11:00:49'),
(123, 14, 6, false, '2023-01-05 11:00:37'),
(117, 3, 6, false, '2023-01-05 11:00:51'),
(7, 14, 8, true, '2023-01-05 11:00:59'),
(157, 14, 6, false, '2023-01-05 11:00:48'),
(87, 7, 6, false, '2023-01-05 11:00:18'),
(48, 8, 13, false, '2023-01-05 11:00:05'),
(149, 3, 8, false, '2023-01-05 11:00:35'),
(144, 8, 8, true, '2023-01-05 11:00:17'),
(76, 7, 6, false, '2023-01-05 11:00:26'),
(102, 14, 8, false, '2023-01-05 11:00:12'),
(33, 7, 8, false, '2023-01-05 11:00:21'),
(13, 7, 12, false, '2023-01-05 11:00:43'),
(14, 8, 12, false, '2023-01-05 11:00:06'),
(172, 14, 8, false, '2023-01-05 11:00:31'),
(5, 6, 12, true, '2023-01-05 11:00:53'),
(68, 15, 10, false, '2023-01-05 11:00:53'),
(56, 7, 12, false, '2023-01-05 11:00:23'),
(147, 8, 12, false, '2023-01-05 11:00:38'),
(188, 14, 8, true, '2023-01-05 11:00:22'),
(170, 14, 8, false, '2023-01-05 11:00:47'),
(177, 8, 6, false, '2023-01-05 11:00:08'),
(75, 8, 6, false, '2023-01-05 11:00:21'),
(67, 8, 8, true, '2023-01-05 11:00:27'),
(155, 8, 6, false, '2023-01-05 11:00:01'),
(196, 8, 6, false, '2023-01-05 11:00:31'),
(81, 4, 8, true, '2023-01-05 11:00:44'),
(190, 14, 6, true, '2023-01-05 11:00:39'),
(199, 14, 8, false, '2023-01-05 11:00:20'),
(137, 14, 8, false, '2023-01-05 11:00:24'),
(187, 3, 6, true, '2023-01-05 11:00:49'),
(71, 14, 6, false, '2023-01-05 11:00:24'),
(198, 4, 13, false, '2023-01-05 11:00:12'),
(98, 3, 13, false, '2023-01-05 11:00:27'),
(183, 8, 6, false, '2023-01-05 11:00:46'),
(36, 7, 6, false, '2023-01-05 11:00:28'),
(23, 8, 6, false, '2023-01-05 11:00:12'),
(179, 6, 6, true, '2023-01-05 11:00:14'),
(158, 8, 12, false, '2023-01-05 11:00:06'),
(82, 4, 8, true, '2023-01-05 11:00:53'),
(192, 8, 8, false, '2023-01-05 11:00:59'),
(52, 7, 6, false, '2023-01-05 11:00:36'),
(156, 8, 6, true, '2023-01-05 11:00:49'),
(39, 8, 8, false, '2023-01-05 11:00:06'),
(173, 4, 8, true, '2023-01-05 11:00:54'),
(191, 8, 12, false, '2023-01-05 11:00:35'),
(74, 14, 6, false, '2023-01-05 11:00:00'),
(159, 4, 12, false, '2023-01-05 11:00:57'),
(80, 14, 8, true, '2023-01-05 11:00:44'),
(181, 4, 6, false, '2023-01-05 11:00:53'),
(40, 7, 8, false, '2023-01-05 11:00:09'),
(64, 4, 6, true, '2023-01-05 11:00:02'),
(6, 4, 13, false, '2023-01-05 11:00:38'),
(114, 8, 6, false, '2023-01-05 11:00:04'),
(146, 4, 6, true, '2023-01-05 11:00:04'),
(58, 15, 13, false, '2023-01-05 11:00:14'),
(165, 7, 8, false, '2023-01-05 11:00:26'),
(169, 8, 6, false, '2023-01-05 11:00:14'),
(171, 7, 6, false, '2023-01-05 11:00:05'),
(44, 7, 8, false, '2023-01-05 11:00:22'),
(18, 8, 12, false, '2023-01-05 11:00:49'),
(35, 15, 6, false, '2023-01-05 11:00:18'),
(25, 4, 6, true, '2023-01-05 11:00:11'),
(122, 7, 6, false, '2023-01-05 11:00:52'),
(29, 8, 13, true, '2023-01-05 11:00:39'),
(24, 8, 13, false, '2023-01-05 11:00:26'),
(92, 14, 10, true, '2023-01-05 11:00:41'),
(26, 3, 6, false, '2023-01-05 11:00:08'),
(53, 7, 8, false, '2023-01-05 11:00:03'),
(78, 8, 6, false, '2023-01-05 11:00:47'),
(72, 7, 8, false, '2023-01-05 11:00:24'),
(109, 15, 8, false, '2023-01-05 11:00:09'),
(30, 3, 6, false, '2023-01-05 11:00:40'),
(186, 8, 6, false, '2023-01-05 11:00:53'),
(63, 4, 13, true, '2023-01-05 11:00:59'),
(57, 7, 13, false, '2023-01-05 11:00:43'),
(138, 8, 12, false, '2023-01-05 11:00:17'),
(118, 8, 8, false, '2023-01-05 11:00:13'),
(131, 4, 8, false, '2023-01-05 11:00:27'),
(119, 8, 13, false, '2023-01-05 11:00:12'),
(97, 4, 13, false, '2023-01-05 11:00:42'),
(4, 4, 13, true, '2023-01-05 11:00:19'),
(164, 15, 10, false, '2023-01-05 11:00:49'),
(45, 14, 8, true, '2023-01-05 11:00:10'),
(51, 4, 10, false, '2023-01-05 11:00:56'),
(43, 8, 6, false, '2023-01-05 11:00:12'),
(49, 7, 6, false, '2023-01-05 11:00:24'),
(46, 8, 13, false, '2023-01-05 11:00:55'),
(135, 14, 6, true, '2023-01-05 11:00:14'),
(148, 14, 8, true, '2023-01-05 11:00:38'),
(132, 14, 6, false, '2023-01-05 11:00:16'),
(20, 4, 6, true, '2023-01-05 11:00:48'),
(93, 8, 6, false, '2023-01-05 11:00:54'),
(182, 4, 6, true, '2023-01-05 11:00:51'),
(139, 8, 8, true, '2023-01-05 11:00:17'),
(50, 4, 13, false, '2023-01-05 11:00:50'),
(37, 8, 13, false, '2023-01-05 11:00:53'),
(160, 8, 13, true, '2023-01-05 11:00:26');

