create table users (                                                                      
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table contests (                                                                            
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table problems (                                                                            
  id bigint primary key,                                                                           
  contest_id bigint,                                                                               
  code varchar not null,                                                                           
  constraint fk_problems_contest_id foreign key (contest_id) references contests (id)              
);                                                                                                 
                                                                                                   
create unique index on problems (contest_id, code);                                                
                                                                                                   
create table submissions (                                                                         
  id bigint primary key,                                                                           
  user_id bigint,                                                                                  
  problem_id bigint,                                                                               
  success boolean not null,                                                                        
  submitted_at timestamp not null,                                                                 
  constraint fk_submissions_user_id foreign key (user_id) references users (id),                   
  constraint fk_submissions_problem_id foreign key (problem_id) references problems (id)           
);

insert into users values
(5, 'A'),
(1, 'aa'),
(13, 'ba'),
(10, 'a'),
(7, 'aBba'),
(15, 'A'),
(14, 'Aa'),
(17, 'aAB'),
(8, 'B'),
(18, 'ABAB');

insert into contests values
(2, 'a');

insert into problems values
(2, 2, 'A'),
(1, 2, 'B'),
(5, 2, 'C'),
(7, 2, 'D'),
(4, 2, 'E');

insert into submissions values
(58, 7, 5, false, '2023-01-05 11:00:13'),
(98, 10, 4, false, '2023-01-05 11:00:47'),
(172, 10, 2, false, '2023-01-05 11:00:13'),
(3, 7, 5, false, '2023-01-05 11:00:47'),
(149, 13, 2, false, '2023-01-05 11:00:13'),
(111, 7, 4, false, '2023-01-05 11:00:47'),
(121, 14, 2, false, '2023-01-05 11:00:47'),
(200, 14, 4, false, '2023-01-05 11:00:13'),
(27, 5, 2, false, '2023-01-05 11:00:47'),
(166, 15, 5, false, '2023-01-05 11:00:47'),
(93, 13, 7, false, '2023-01-05 11:00:47'),
(1, 7, 5, false, '2023-01-05 11:00:13'),
(136, 7, 5, false, '2023-01-05 11:00:13'),
(63, 14, 2, false, '2023-01-05 11:00:47'),
(186, 13, 7, false, '2023-01-05 11:00:13'),
(71, 13, 2, false, '2023-01-05 11:00:47'),
(36, 18, 4, false, '2023-01-05 11:00:47'),
(95, 17, 2, false, '2023-01-05 11:00:13'),
(101, 10, 5, false, '2023-01-05 11:00:13'),
(16, 14, 7, false, '2023-01-05 11:00:13'),
(77, 10, 2, false, '2023-01-05 11:00:13'),
(125, 5, 5, false, '2023-01-05 11:00:47'),
(37, 10, 5, false, '2023-01-05 11:00:47'),
(86, 10, 5, false, '2023-01-05 11:00:47'),
(191, 5, 5, false, '2023-01-05 11:00:47'),
(159, 7, 4, false, '2023-01-05 11:00:13'),
(154, 5, 4, false, '2023-01-05 11:00:13'),
(88, 13, 5, false, '2023-01-05 11:00:47'),
(46, 5, 5, true, '2023-01-05 11:00:47'),
(122, 1, 5, false, '2023-01-05 11:00:13'),
(29, 10, 2, false, '2023-01-05 11:00:13'),
(59, 5, 2, true, '2023-01-05 11:00:13'),
(7, 10, 2, false, '2023-01-05 11:00:47'),
(66, 7, 5, false, '2023-01-05 11:00:13'),
(183, 17, 4, false, '2023-01-05 11:00:47'),
(85, 5, 5, false, '2023-01-05 11:00:13'),
(194, 5, 2, false, '2023-01-05 11:00:47'),
(124, 7, 5, false, '2023-01-05 11:00:47'),
(112, 5, 7, false, '2023-01-05 11:00:13'),
(60, 7, 5, false, '2023-01-05 11:00:47'),
(168, 13, 4, false, '2023-01-05 11:00:13'),
(21, 5, 4, false, '2023-01-05 11:00:47'),
(23, 5, 5, false, '2023-01-05 11:00:47'),
(44, 17, 4, false, '2023-01-05 11:00:47'),
(158, 14, 4, false, '2023-01-05 11:00:47'),
(53, 10, 5, false, '2023-01-05 11:00:47'),
(176, 14, 4, false, '2023-01-05 11:00:47'),
(8, 13, 5, false, '2023-01-05 11:00:13'),
(94, 10, 5, false, '2023-01-05 11:00:47'),
(26, 17, 2, false, '2023-01-05 11:00:13'),
(39, 13, 4, false, '2023-01-05 11:00:47'),
(107, 7, 2, false, '2023-01-05 11:00:47'),
(38, 5, 1, false, '2023-01-05 11:00:13'),
(146, 15, 5, false, '2023-01-05 11:00:47'),
(142, 1, 5, false, '2023-01-05 11:00:47'),
(118, 15, 7, false, '2023-01-05 11:00:13'),
(31, 15, 5, false, '2023-01-05 11:00:47'),
(83, 13, 2, false, '2023-01-05 11:00:13'),
(143, 13, 7, false, '2023-01-05 11:00:47'),
(128, 18, 5, false, '2023-01-05 11:00:47'),
(182, 10, 5, false, '2023-01-05 11:00:13'),
(25, 10, 5, false, '2023-01-05 11:00:47'),
(188, 10, 5, false, '2023-01-05 11:00:13'),
(113, 10, 5, false, '2023-01-05 11:00:13'),
(138, 7, 2, false, '2023-01-05 11:00:13'),
(151, 13, 5, false, '2023-01-05 11:00:13'),
(197, 7, 5, false, '2023-01-05 11:00:47'),
(117, 1, 5, false, '2023-01-05 11:00:13'),
(201, 5, 2, false, '2023-01-05 11:00:13'),
(45, 10, 7, false, '2023-01-05 11:00:13'),
(90, 7, 5, false, '2023-01-05 11:00:47'),
(108, 1, 5, false, '2023-01-05 11:00:13'),
(102, 15, 5, false, '2023-01-05 11:00:47'),
(175, 10, 5, false, '2023-01-05 11:00:47'),
(116, 17, 5, false, '2023-01-05 11:00:47'),
(126, 7, 1, false, '2023-01-05 11:00:47'),
(18, 1, 2, false, '2023-01-05 11:00:47'),
(119, 7, 5, false, '2023-01-05 11:00:13'),
(127, 5, 2, false, '2023-01-05 11:00:47'),
(156, 7, 5, false, '2023-01-05 11:00:13'),
(49, 17, 5, false, '2023-01-05 11:00:47'),
(64, 14, 5, false, '2023-01-05 11:00:13'),
(22, 8, 5, false, '2023-01-05 11:00:47'),
(67, 14, 2, false, '2023-01-05 11:00:13'),
(185, 1, 5, false, '2023-01-05 11:00:13'),
(150, 13, 4, false, '2023-01-05 11:00:47'),
(163, 5, 5, false, '2023-01-05 11:00:13'),
(169, 13, 5, false, '2023-01-05 11:00:47'),
(11, 7, 5, false, '2023-01-05 11:00:47'),
(68, 1, 4, false, '2023-01-05 11:00:13'),
(144, 10, 5, false, '2023-01-05 11:00:13'),
(196, 15, 5, false, '2023-01-05 11:00:47'),
(2, 5, 5, false, '2023-01-05 11:00:13'),
(48, 13, 2, false, '2023-01-05 11:00:13'),
(178, 7, 5, false, '2023-01-05 11:00:13'),
(193, 7, 5, false, '2023-01-05 11:00:47'),
(195, 7, 1, false, '2023-01-05 11:00:13'),
(171, 5, 2, false, '2023-01-05 11:00:13'),
(179, 10, 2, false, '2023-01-05 11:00:47'),
(120, 5, 5, false, '2023-01-05 11:00:47');

