create table users (                                                                      
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table contests (                                                                            
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table problems (                                                                            
  id bigint primary key,                                                                           
  contest_id bigint,                                                                               
  code varchar not null,                                                                           
  constraint fk_problems_contest_id foreign key (contest_id) references contests (id)              
);                                                                                                 
                                                                                                   
create unique index on problems (contest_id, code);                                                
                                                                                                   
create table submissions (                                                                         
  id bigint primary key,                                                                           
  user_id bigint,                                                                                  
  problem_id bigint,                                                                               
  success boolean not null,                                                                        
  submitted_at timestamp not null,                                                                 
  constraint fk_submissions_user_id foreign key (user_id) references users (id),                   
  constraint fk_submissions_problem_id foreign key (problem_id) references problems (id)           
);

insert into users values
(10, 'Ba'),
(30, 'B'),
(12, 'BaBb'),
(31, 'a'),
(33, 'abbA'),
(15, 'Ba'),
(14, 'Bb'),
(21, 'Ba'),
(6, 'bbaA'),
(4, 'B'),
(36, 'A'),
(26, 'AbAa'),
(23, 'A'),
(24, 'Aab'),
(39, 'bba'),
(34, 'BAB'),
(5, 'A'),
(20, 'A'),
(8, 'Ba'),
(13, 'BA');

insert into contests values
(3, 'B');

insert into problems values
(7, 3, 'A'),
(5, 3, 'B'),
(3, 3, 'C');

insert into submissions values
(125, 31, 7, false, '2023-01-05 11:00:57'),
(164, 10, 3, false, '2023-01-05 11:00:00'),
(99, 33, 3, false, '2023-01-05 11:00:28'),
(73, 14, 5, false, '2023-01-05 11:00:25'),
(96, 5, 5, false, '2023-01-05 11:00:21'),
(37, 23, 5, false, '2023-01-05 11:00:11'),
(24, 34, 7, false, '2023-01-05 11:00:52'),
(156, 33, 5, false, '2023-01-05 11:00:35'),
(66, 23, 5, false, '2023-01-05 11:00:16'),
(61, 6, 5, false, '2023-01-05 11:00:58'),
(4, 23, 5, false, '2023-01-05 11:00:34'),
(167, 31, 3, false, '2023-01-05 11:00:01'),
(183, 23, 3, false, '2023-01-05 11:00:41'),
(160, 15, 5, false, '2023-01-05 11:00:03'),
(13, 20, 3, false, '2023-01-05 11:00:04'),
(181, 20, 7, false, '2023-01-05 11:00:41'),
(180, 23, 7, true, '2023-01-05 11:00:34'),
(147, 26, 5, false, '2023-01-05 11:00:47'),
(144, 23, 7, false, '2023-01-05 11:00:32'),
(54, 33, 7, true, '2023-01-05 11:00:11'),
(27, 33, 5, false, '2023-01-05 11:00:12'),
(71, 30, 7, false, '2023-01-05 11:00:54'),
(114, 21, 7, false, '2023-01-05 11:00:56'),
(139, 14, 5, false, '2023-01-05 11:00:45'),
(70, 31, 7, true, '2023-01-05 11:00:38'),
(14, 15, 5, false, '2023-01-05 11:00:59'),
(123, 34, 7, false, '2023-01-05 11:00:35'),
(32, 6, 5, false, '2023-01-05 11:00:31'),
(76, 31, 7, false, '2023-01-05 11:00:58'),
(131, 24, 5, false, '2023-01-05 11:00:22'),
(122, 31, 5, false, '2023-01-05 11:00:51'),
(159, 21, 7, true, '2023-01-05 11:00:21'),
(146, 30, 5, false, '2023-01-05 11:00:39'),
(3, 8, 7, false, '2023-01-05 11:00:05'),
(18, 6, 3, false, '2023-01-05 11:00:47'),
(30, 24, 7, false, '2023-01-05 11:00:42'),
(170, 20, 7, false, '2023-01-05 11:00:19'),
(132, 6, 7, false, '2023-01-05 11:00:44'),
(35, 39, 5, false, '2023-01-05 11:00:51'),
(89, 6, 3, false, '2023-01-05 11:00:56'),
(190, 21, 5, false, '2023-01-05 11:00:22'),
(67, 24, 7, false, '2023-01-05 11:00:25'),
(85, 20, 3, false, '2023-01-05 11:00:34'),
(6, 20, 7, false, '2023-01-05 11:00:35'),
(134, 15, 3, false, '2023-01-05 11:00:56'),
(189, 5, 3, false, '2023-01-05 11:00:12'),
(136, 20, 7, true, '2023-01-05 11:00:51'),
(84, 15, 5, false, '2023-01-05 11:00:05'),
(93, 14, 7, false, '2023-01-05 11:00:50'),
(200, 21, 5, false, '2023-01-05 11:00:05'),
(126, 26, 3, false, '2023-01-05 11:00:08'),
(2, 24, 5, false, '2023-01-05 11:00:49'),
(10, 31, 3, false, '2023-01-05 11:00:22'),
(44, 14, 7, false, '2023-01-05 11:00:26'),
(121, 14, 7, true, '2023-01-05 11:00:09'),
(86, 36, 7, false, '2023-01-05 11:00:35'),
(191, 8, 3, false, '2023-01-05 11:00:06'),
(11, 24, 5, false, '2023-01-05 11:00:18'),
(60, 24, 5, false, '2023-01-05 11:00:37'),
(115, 20, 7, false, '2023-01-05 11:00:32'),
(58, 26, 5, false, '2023-01-05 11:00:36'),
(109, 24, 7, false, '2023-01-05 11:00:08'),
(158, 4, 5, false, '2023-01-05 11:00:42'),
(150, 23, 3, false, '2023-01-05 11:00:24'),
(16, 21, 5, false, '2023-01-05 11:00:57'),
(39, 36, 5, false, '2023-01-05 11:00:35'),
(19, 15, 7, false, '2023-01-05 11:00:44'),
(26, 15, 5, false, '2023-01-05 11:00:07'),
(75, 36, 7, false, '2023-01-05 11:00:56'),
(103, 8, 5, false, '2023-01-05 11:00:20'),
(161, 23, 3, false, '2023-01-05 11:00:04'),
(78, 23, 7, false, '2023-01-05 11:00:40'),
(111, 30, 3, false, '2023-01-05 11:00:40'),
(168, 20, 5, false, '2023-01-05 11:00:45'),
(46, 24, 5, false, '2023-01-05 11:00:15'),
(79, 34, 7, false, '2023-01-05 11:00:12'),
(80, 6, 5, false, '2023-01-05 11:00:32'),
(155, 14, 3, false, '2023-01-05 11:00:09'),
(176, 5, 7, false, '2023-01-05 11:00:19'),
(102, 21, 3, true, '2023-01-05 11:00:27'),
(153, 34, 5, false, '2023-01-05 11:00:25'),
(34, 12, 7, false, '2023-01-05 11:00:09'),
(17, 21, 7, true, '2023-01-05 11:00:27'),
(101, 5, 7, false, '2023-01-05 11:00:46'),
(137, 6, 7, true, '2023-01-05 11:00:53'),
(140, 23, 3, false, '2023-01-05 11:00:24'),
(187, 24, 3, false, '2023-01-05 11:00:19'),
(22, 21, 7, false, '2023-01-05 11:00:20'),
(50, 36, 5, false, '2023-01-05 11:00:25'),
(165, 33, 7, false, '2023-01-05 11:00:29'),
(95, 24, 7, false, '2023-01-05 11:00:13'),
(68, 24, 7, false, '2023-01-05 11:00:02'),
(7, 21, 3, false, '2023-01-05 11:00:54'),
(87, 26, 7, false, '2023-01-05 11:00:44'),
(51, 6, 7, false, '2023-01-05 11:00:19'),
(45, 26, 5, false, '2023-01-05 11:00:00'),
(129, 20, 7, false, '2023-01-05 11:00:36'),
(195, 15, 3, false, '2023-01-05 11:00:01'),
(88, 5, 7, false, '2023-01-05 11:00:20'),
(25, 30, 3, false, '2023-01-05 11:00:33');

