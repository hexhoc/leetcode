create table users (                                                                      
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table contests (                                                                            
  id bigint primary key,                                                                           
  name varchar not null                                                                            
);                                                                                                 
                                                                                                   
create table problems (                                                                            
  id bigint primary key,                                                                           
  contest_id bigint,                                                                               
  code varchar not null,                                                                           
  constraint fk_problems_contest_id foreign key (contest_id) references contests (id)              
);                                                                                                 
                                                                                                   
create unique index on problems (contest_id, code);                                                
                                                                                                   
create table submissions (                                                                         
  id bigint primary key,                                                                           
  user_id bigint,                                                                                  
  problem_id bigint,                                                                               
  success boolean not null,                                                                        
  submitted_at timestamp not null,                                                                 
  constraint fk_submissions_user_id foreign key (user_id) references users (id),                   
  constraint fk_submissions_problem_id foreign key (problem_id) references problems (id)           
);

insert into users values
(21, 'aaB'),
(3, 'ABaA'),
(14, 'AaAB'),
(7, 'b'),
(4, 'b'),
(11, 'ba'),
(19, 'ABBA'),
(17, 'AbB'),
(6, 'BBaB'),
(20, 'a');

insert into contests values
(4, 'B'),
(3, 'B'),
(2, 'A');

insert into problems values
(1, 2, 'A'),
(17, 2, 'B'),
(11, 2, 'C'),
(2, 2, 'D'),
(5, 2, 'E'),
(8, 4, 'A'),
(15, 2, 'F'),
(16, 3, 'A');

insert into submissions values
(12, 11, 2, true, '2023-01-05 11:00:53'),
(35, 4, 2, false, '2023-01-05 11:00:43'),
(91, 4, 17, false, '2023-01-05 11:00:55'),
(165, 4, 16, false, '2023-01-05 11:00:58'),
(137, 19, 2, true, '2023-01-05 11:00:19'),
(40, 21, 17, false, '2023-01-05 11:00:29'),
(34, 21, 17, false, '2023-01-05 11:00:36'),
(2, 11, 15, false, '2023-01-05 11:00:54'),
(81, 4, 15, false, '2023-01-05 11:00:53'),
(63, 19, 2, false, '2023-01-05 11:00:58'),
(113, 21, 16, false, '2023-01-05 11:00:42'),
(10, 4, 17, false, '2023-01-05 11:00:15'),
(151, 19, 16, false, '2023-01-05 11:00:12'),
(93, 17, 16, false, '2023-01-05 11:00:19'),
(158, 4, 17, false, '2023-01-05 11:00:05'),
(42, 21, 16, false, '2023-01-05 11:00:06'),
(142, 20, 17, false, '2023-01-05 11:00:56'),
(76, 21, 2, false, '2023-01-05 11:00:16'),
(117, 11, 8, false, '2023-01-05 11:00:30'),
(103, 21, 17, false, '2023-01-05 11:00:02'),
(18, 21, 2, false, '2023-01-05 11:00:09'),
(136, 17, 16, false, '2023-01-05 11:00:13'),
(123, 11, 16, false, '2023-01-05 11:00:47'),
(170, 21, 17, false, '2023-01-05 11:00:22'),
(201, 20, 16, false, '2023-01-05 11:00:29'),
(25, 21, 8, false, '2023-01-05 11:00:49'),
(126, 4, 17, false, '2023-01-05 11:00:06'),
(182, 20, 16, false, '2023-01-05 11:00:27'),
(130, 21, 16, false, '2023-01-05 11:00:17'),
(17, 4, 2, false, '2023-01-05 11:00:34'),
(29, 20, 16, false, '2023-01-05 11:00:31'),
(71, 17, 2, false, '2023-01-05 11:00:06'),
(27, 21, 1, false, '2023-01-05 11:00:39'),
(31, 6, 17, false, '2023-01-05 11:00:22'),
(19, 20, 2, false, '2023-01-05 11:00:59'),
(23, 20, 15, false, '2023-01-05 11:00:36'),
(163, 4, 17, false, '2023-01-05 11:00:33'),
(107, 21, 2, false, '2023-01-05 11:00:25'),
(131, 4, 8, false, '2023-01-05 11:00:01'),
(56, 20, 16, false, '2023-01-05 11:00:54'),
(143, 21, 5, true, '2023-01-05 11:00:53'),
(152, 21, 17, false, '2023-01-05 11:00:56'),
(155, 19, 16, false, '2023-01-05 11:00:28'),
(41, 19, 1, false, '2023-01-05 11:00:36'),
(100, 4, 1, false, '2023-01-05 11:00:05'),
(15, 21, 2, false, '2023-01-05 11:00:53'),
(177, 20, 17, false, '2023-01-05 11:00:26'),
(86, 19, 2, false, '2023-01-05 11:00:13'),
(52, 4, 1, false, '2023-01-05 11:00:44'),
(200, 4, 16, false, '2023-01-05 11:00:22'),
(92, 20, 1, false, '2023-01-05 11:00:11'),
(37, 21, 16, false, '2023-01-05 11:00:28'),
(132, 20, 1, false, '2023-01-05 11:00:43'),
(70, 11, 15, false, '2023-01-05 11:00:58'),
(51, 21, 15, false, '2023-01-05 11:00:44'),
(46, 4, 8, false, '2023-01-05 11:00:47'),
(116, 20, 17, false, '2023-01-05 11:00:59'),
(160, 21, 16, false, '2023-01-05 11:00:02'),
(9, 20, 16, false, '2023-01-05 11:00:59'),
(174, 4, 17, false, '2023-01-05 11:00:11'),
(79, 4, 15, false, '2023-01-05 11:00:37'),
(58, 20, 16, false, '2023-01-05 11:00:22'),
(82, 4, 17, false, '2023-01-05 11:00:05'),
(139, 20, 8, false, '2023-01-05 11:00:15'),
(101, 3, 15, false, '2023-01-05 11:00:27'),
(166, 21, 16, false, '2023-01-05 11:00:23'),
(55, 19, 16, false, '2023-01-05 11:00:15'),
(90, 11, 16, false, '2023-01-05 11:00:28'),
(47, 4, 15, false, '2023-01-05 11:00:44'),
(94, 20, 16, false, '2023-01-05 11:00:55'),
(175, 3, 17, false, '2023-01-05 11:00:13'),
(20, 21, 8, false, '2023-01-05 11:00:07'),
(106, 21, 16, false, '2023-01-05 11:00:25'),
(125, 11, 11, false, '2023-01-05 11:00:27'),
(156, 17, 8, false, '2023-01-05 11:00:27'),
(33, 20, 16, false, '2023-01-05 11:00:41'),
(64, 21, 16, false, '2023-01-05 11:00:01'),
(49, 4, 17, false, '2023-01-05 11:00:30'),
(183, 4, 2, false, '2023-01-05 11:00:19'),
(196, 11, 2, false, '2023-01-05 11:00:57'),
(162, 4, 15, false, '2023-01-05 11:00:51'),
(194, 20, 1, false, '2023-01-05 11:00:58'),
(14, 20, 1, true, '2023-01-05 11:00:08'),
(45, 11, 2, false, '2023-01-05 11:00:56'),
(13, 4, 16, false, '2023-01-05 11:00:11'),
(89, 11, 1, false, '2023-01-05 11:00:32'),
(67, 21, 16, false, '2023-01-05 11:00:15'),
(102, 11, 15, false, '2023-01-05 11:00:31'),
(24, 4, 1, false, '2023-01-05 11:00:22'),
(111, 21, 17, false, '2023-01-05 11:00:50'),
(98, 21, 2, false, '2023-01-05 11:00:22'),
(109, 20, 17, false, '2023-01-05 11:00:06'),
(77, 4, 11, false, '2023-01-05 11:00:36'),
(62, 21, 15, false, '2023-01-05 11:00:03'),
(188, 4, 16, false, '2023-01-05 11:00:37'),
(69, 4, 11, false, '2023-01-05 11:00:35'),
(72, 4, 17, false, '2023-01-05 11:00:02'),
(36, 4, 17, false, '2023-01-05 11:00:10'),
(122, 19, 16, false, '2023-01-05 11:00:52'),
(168, 21, 17, false, '2023-01-05 11:00:16');

